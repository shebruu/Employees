{% extends 'base.html.twig' %}

{% block title %}Départements
{% endblock %}

{% block body %}
	<div class="container mt-4">

		<div class="d-flex justify-content-between align-items-center mb-4">
			<h1 class="mb-0">Liste des départements</h1>
			{% if is_granted('ROLE_ADMIN') %}
				<a href="{{ path('app_departement_new') }}" class="btn btn-success">
					<i class="bi bi-plus-circle"></i>
					Créer un nouveau département
				</a>
			{% endif %}
		</div>
		<div class="row">
			{% for departement in departements %}
				<div class="col-md-6 col-lg-4 mb-4">
					<div class="card h-100 shadow-sm border-0">
						<div class="card-header bg-primary text-white">
							<strong>{{ departement.deptName }}</strong>
						</div>
						<div class="card-body d-flex flex-column">
							<h5 class="card-title text-secondary">N°
								{{ departement.deptNo }}</h5>
							<p class="card-text mb-2">
								<i class="bi bi-geo-alt"></i>
								{{ departement.address }}</p>
							<div class="mt-auto">
								<a href="{{ path('app_departement_show', {'id': departement.id}) }}" class="btn btn-outline-primary btn-sm me-2">
									<i class="bi bi-eye"></i>
									Voir
								</a>
								{% if is_granted('ROLE_ADMIN') %}
									<a href="{{ path('app_departement_edit', {'id': departement.id}) }}" class="btn btn-outline-secondary btn-sm">
										<i class="bi bi-pencil"></i>
										Modifier
									</a>
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			{% else %}
				<div class="col-12">
					<div class="alert alert-warning text-center">Aucun département trouvé.</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
